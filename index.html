<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>線上考卷</title>
    <link id="theme-css" rel="stylesheet" href="styles.css">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' 'unsafe-eval' https://unpkg.com https://cdnjs.cloudflare.com;">
</head>
<body>
    <div class="container">
      <!-- 題目選單 -->
      <div class="field" style="text-align: center; margin-bottom: 2rem;">
        <label for="exam-title">題目選單 ：</label>
        <select id="exam-title" style="font-size: 1.2rem; font-weight: bold;">
          <option value="Typing Practice">Typing Practice</option>
          <option value="SOCS_S-M ratio">SOCS_S-M ratio</option>
          <option value="SOCS_S-M ratio-2">SOCS_S-M ratio-2</option>
        </select>
      </div>
      <h1 id="exam-title-display">SOCS_S-M ratio-2</h1>

      <!-- 班級（下拉 + 可輸入 other） -->
      <div class="field">
        <label for="cls">班級 Class：</label>
        <div class="controls">
          <select id="cls">
            <option value="">請選擇班級 Select your class</option>
            <option value="financial">中央財金 NCUFN</option>
            <option value="economic">中央經濟 NCUEC</option>
          </select>
        </div>
      </div>
      <div class="field">
        <label for="name">姓名 Name：</label>
        <input type="text" id="name" placeholder="請填寫姓名 Enter your name">
      </div>
      <div class="field">
        <label for="sid">學號 Student ID：</label>
        <input type="text" id="sid" placeholder="請填寫學號 Enter your student ID" pattern="\d+">
      </div>

      <hr>

      <div class="field">
        <label>作答區 Answer Area：</label>
        <textarea id="ans1" placeholder="請在此作答 Answer here"></textarea>
      </div>

      <div class="actions" style="margin-top:2rem;">
  <button id="instructionsBtn">作答注意事項 Answering Guidelines</button>
  <button id="downloadExamBtn" disabled>下載考卷（含答案） Download Test Paper (with Solutions)</button>
      </div>
      <div class="status" id="status">尚未儲存 Unsaved</div>


<!-- 注意事項 Modal -->
<div id="instructionsModal" class="modal">
  <div class="modal-content">
    <span class="close-btn" id="closeModal">&times;</span>
    
    <h2>📐 Express Key Point</h2>

    <h3>✅ 必須遵守的規則 Rules You Must Follow</h3>
    <ol>
      <li>
        <b>變數名稱 Variable Names</b><br>
        一律用英文拼音<br>
        Always use English spelling for variables:<br>
        x̄ → <code>x-bar</code>, p̂ → <code>p-hat</code>, μ → <code>mu</code>, σ → <code>sigma</code>
      </li>
      <li>
        <b>算式表示 Expression Writing</b><br>
        <table>
          <tr><th>類型 Type</th><th>符號 Symbol</th></tr>
          <tr><td>等號 Equal sign</td><td><code>=</code></td></tr>
          <tr><td>不等號 Inequality</td><td><code>&lt;=, &gt;=, &lt;, &gt;</code></td></tr>
          <tr><td>加減號 Plus/Minus</td><td><code>+, -, +/-</code></td></tr>
          <tr><td>乘法 Multiplication</td><td><code>*</code></td></tr>
          <tr><td>分數 Fraction</td><td><code>/</code></td></tr>
          <tr><td>次方 Exponent</td><td><code>^</code></td></tr>
          <tr><td>平方根 Square root</td><td><code>sqrt(...)</code></td></tr>
        </table>
      </li>
      <li>
        <b>計算過程 Calculation Steps</b><br>
        必須逐步寫出，不要直接給最後答案。<br>
        Show all calculation steps, do not give only the final result.
      </li>
      <li>
        <b>請標註題號並以換行座分隔<br>
        Please indicate the question number and separate answers with line breaks.</b><br>
        For example:<br>
        1. answer<br><br>
        2. answer<br>
      </li>
      <li>
        <b>請在上傳作業前先打開下載的HTML檔案檢查，若有任何疑問請立即與助教聯絡。</b><br>
    </ol>

    <h3>🧠 符號對照表 Symbol Pronunciation</h3>
    <table>
      <tr><th>符號 Symbol</th><th>拼音 Spelling</th><th>說明 Description</th></tr>
      <tr><td>x̄</td><td>x-bar</td><td>樣本平均 Sample Mean</td></tr>
      <tr><td>μ</td><td>mu</td><td>母體平均 Population Mean</td></tr>
      <tr><td>σ</td><td>sigma</td><td>母體標準差 Population Std. Dev.</td></tr>
      <tr><td>σₓ̄</td><td>sigma of x-bar</td><td>樣本平均的標準差 Std. Error of Mean</td></tr>
      <tr><td>p̂</td><td>p-hat</td><td>樣本比例 Sample Proportion</td></tr>
      <tr><td>n</td><td>n</td><td>樣本數 Sample Size</td></tr>
      <tr><td>z</td><td>z</td><td>z 分數 z-Score</td></tr>
      <tr><td>P(...)</td><td>P(...)</td><td>機率 Probability</td></tr>
    </table>

    <h3>🚫 請避免 Avoid</h3>
    <ul>
      <li style="color:red;"><b>不要使用 LaTeX 語法 Do not use LaTeX syntax</b></li>
      <li style="color:red;">不要貼圖片或手寫公式 Do not paste images or handwritten formulas</li>
      <li style="color:red;">不要使用排版數學符號 Do not use typeset math symbols</li>

      <p>🔍 LaTeX 常見範例 Common LaTeX Examples</p>
      <table>
      <tr>
        <th>數學表達<br>Mathematical Expression</th>
        <th>LaTeX 語法<br>LaTeX Syntax</th>
        <th>顯示效果<br>Display</th>
      </tr>
      <tr>
        <td>分數<br>Fraction</td>
        <td><code>\frac{1}{2}</code></td>
        <td>½</td>
      </tr>
      <tr>
        <td>平方根<br>Square Root</td>
        <td><code>\sqrt{9}</code></td>
        <td>√9</td>
      </tr>
      <tr>
        <td>希臘字母<br>Greek Letters</td>
        <td><code>\mu, \sigma</code></td>
        <td>μ, σ</td>
      </tr>
      <tr>
        <td>機率<br>Probability</td>
        <td><code>P(0.45 \le \hat{p} \le 0.49)</code></td>
        <td>P(0.45 ≤ p̂ ≤ 0.49)</td>
      </tr>
    </table>
    </ul>
    
    <h3>🔍 範例 Examples</h3>
    <p><b>正確 Correct:</b><br>
      <code>sigma = sqrt(p * (1 - p) / n)</code>
    </p>
    <p><b>錯誤 Wrong:</b><br>
      <code>σ = √(p(1-p)/n)</code> （因為用了符號 / Because it uses symbols）
    </p>
    <p><br>※備註：
      <br>大型語言模型(LLM)擅長處理<b>純文字、結構清楚、無特殊顯示效果的格式</b>。<br>若有不確定的數學表示法，可直接向ChatGPT詢問如何將該數學式轉換成為易於LLM讀取的形式。</p>
  </div>
</div>


    <!-- 將所有 script 放在 body 底部以確保 DOM 完全載入 -->
    <script src="scripts.js"></script>
    <script>
        // cache-bust 每次載入（部署後可改為版本號或檔名策略）
        (function(){
            const link = document.getElementById('theme-css');
            if (!link) return;
            const base = link.getAttribute('href').split('?')[0];
            link.setAttribute('href', base + '?v=' + new Date().getTime());
        })();
    </script>
</body>
</html>